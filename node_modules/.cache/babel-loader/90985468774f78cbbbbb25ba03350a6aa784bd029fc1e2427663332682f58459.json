{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import{SearchBarForResult}from'./SearchBar';import{Card}from'./Card';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Result=props=>{const{concertData}=props;const location=useLocation();const[filteredData,setFilteredData]=useState([]);const[selectedGenre,setSelectedGenre]=useState('');const[cityName,setCityName]=useState('');useEffect(()=>{const searchParams=location.state?location.state.searchParams:{city:'',artistEventVenue:''};let filtered=concertData;if(searchParams.city||searchParams.artistEventVenue){filtered=filtered.filter(event=>{const locationMatch=searchParams.city?event.location_city_state.toLowerCase().includes(searchParams.city.toLowerCase()):true;const titleMatch=searchParams.artistEventVenue?event.event_title.toLowerCase().includes(searchParams.artistEventVenue.toLowerCase()):true;return locationMatch&&titleMatch;});}if(selectedGenre){filtered=filtered.filter(event=>event.genre.toLowerCase()===selectedGenre.toLowerCase());}setFilteredData(filtered);if(filtered.length>0){setCityName(filtered[0].location_city_state);}else{setCityName(searchParams.city);}},[concertData,location.state,selectedGenre]);const handleGenreClick=genre=>{if(genre===selectedGenre){setSelectedGenre('');setFilteredData(concertData);}else{setSelectedGenre(genre);const filteredByGenre=concertData.filter(concertEvent=>genre?concertEvent.genre.toLowerCase()===genre.toLowerCase():true);setFilteredData(filteredByGenre);}};const categoriesElement=/*#__PURE__*/_jsx(\"div\",{className:\"categories\",children:['R&B','Pop','Alternative/Indie','Hip-Hop/Rap','Rock','Alternative/Pop','Metal'].map((genre,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGenreClick(genre),className:\"category-button \".concat(selectedGenre===genre?'active':''),children:genre},index))});const resultList=filteredData.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"event-list\",children:filteredData.map((event,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"event-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"date\",children:event.date}),/*#__PURE__*/_jsxs(\"p\",{className:\"details\",children:[event.event_title,\" - \",event.location_name]}),/*#__PURE__*/_jsx(Link,{to:\"/Infopage/\".concat(encodeURIComponent(event.event_title)),children:/*#__PURE__*/_jsx(\"button\",{className:\"info-btn\",children:\"More info\"})})]},index))}):/*#__PURE__*/_jsx(\"div\",{className:\"event-info\",children:/*#__PURE__*/_jsx(\"p\",{className:\"no-result\",children:\"No Events Found\"})});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(SearchBarForResult,{})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"feature-1\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Discover New Favorites\"}),/*#__PURE__*/_jsx(Card,{concertData:concertData})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"category-filter\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Genre Categories\"}),categoriesElement]}),/*#__PURE__*/_jsx(\"section\",{className:\"Event\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Events In \",/*#__PURE__*/_jsx(\"span\",{children:cityName})]})}),/*#__PURE__*/_jsx(\"section\",{children:resultList})]})]});};export default Result;","map":{"version":3,"names":["React","useState","useEffect","useLocation","SearchBarForResult","Card","Link","jsx","_jsx","jsxs","_jsxs","Result","props","concertData","location","filteredData","setFilteredData","selectedGenre","setSelectedGenre","cityName","setCityName","searchParams","state","city","artistEventVenue","filtered","filter","event","locationMatch","location_city_state","toLowerCase","includes","titleMatch","event_title","genre","length","handleGenreClick","filteredByGenre","concertEvent","categoriesElement","className","children","map","index","onClick","concat","resultList","date","location_name","to","encodeURIComponent"],"sources":["/Users/junheepark/Documents/info340-code/04-concerto/src/components/Result.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { SearchBarForResult } from './SearchBar';\nimport { Card } from './Card';\nimport { Link } from 'react-router-dom';\n\nconst Result = (props) => {\n    const { concertData } = props;\n    const location = useLocation();\n    const [filteredData, setFilteredData] = useState([]);\n    const [selectedGenre, setSelectedGenre] = useState('');\n    const [cityName, setCityName] = useState('');\n\n    useEffect(() => {\n        const searchParams = location.state ? location.state.searchParams : { city: '', artistEventVenue: '' };\n\n        let filtered = concertData;\n        \n        if (searchParams.city || searchParams.artistEventVenue) {\n            filtered = filtered.filter((event) => {\n                const locationMatch = searchParams.city ? event.location_city_state.toLowerCase().includes(searchParams.city.toLowerCase()) : true;\n                const titleMatch = searchParams.artistEventVenue ? event.event_title.toLowerCase().includes(searchParams.artistEventVenue.toLowerCase()) : true;\n                return locationMatch && titleMatch;\n            });\n        }\n\n        if (selectedGenre) {\n            filtered = filtered.filter((event) => event.genre.toLowerCase() === selectedGenre.toLowerCase());\n        }\n\n        setFilteredData(filtered);\n\n        if (filtered.length > 0) {\n            setCityName(filtered[0].location_city_state);\n        } else {\n            setCityName(searchParams.city);\n        }\n\n    }, [concertData, location.state, selectedGenre]);\n\n    const handleGenreClick = (genre) => {\n        if (genre === selectedGenre) {\n            setSelectedGenre('');\n            setFilteredData(concertData);\n        } else {\n            setSelectedGenre(genre);\n            const filteredByGenre = concertData.filter((concertEvent) => \n                genre ? concertEvent.genre.toLowerCase() === genre.toLowerCase(): true);\n            setFilteredData(filteredByGenre);\n        }\n    };\n\n    const categoriesElement = <div className=\"categories\">\n                                {['R&B', 'Pop', 'Alternative/Indie', 'Hip-Hop/Rap', 'Rock', 'Alternative/Pop', 'Metal'].map((genre, index) => (\n                                <button\n                                    key={index}\n                                    onClick={() => handleGenreClick(genre)}\n                                    className={`category-button ${selectedGenre === genre ? 'active' : ''}`}\n                                >\n                                    {genre}\n                                </button>\n                                ))}\n                              </div>\n\n    const resultList = filteredData.length > 0 ? (\n                            <div className=\"event-list\">\n                                {filteredData.map((event, index) => (\n                                    <div key={index} className=\"event-info\">\n                                        <p className=\"date\">{event.date}</p>\n                                        <p className=\"details\">{event.event_title} - {event.location_name}</p>\n                                        <Link to={`/Infopage/${encodeURIComponent(event.event_title)}`}>\n                                            <button className=\"info-btn\">More info</button>\n                                        </Link>\n                                    </div>\n                                ))}\n                            </div>\n                        ) : (\n                            <div className=\"event-info\">\n                                <p className=\"no-result\">No Events Found</p>\n                            </div>\n                        )\n\n    return (\n        <div>\n            <header>\n                <SearchBarForResult />\n            </header>\n            <main>\n                <section className=\"feature-1\">\n                    <h1>Discover New Favorites</h1>\n                    <Card concertData={concertData}/>\n                </section>\n\n                <section className=\"category-filter\">\n                    <h1>Genre Categories</h1>\n                    {categoriesElement}\n                </section>\n\n                <section className=\"Event\">\n                    <h1>Events In <span>{cityName}</span></h1>\n                </section>\n\n                <section>\n                    {resultList}\n                </section>\n            </main>\n        </div>\n    );\n};\n\nexport default Result;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}